name: Toggle True/False in Repository

on:
  workflow_dispatch: # Cho phÃ©p cháº¡y thá»§ cÃ´ng
  schedule:
    - cron: '0 * * * *' # Cháº¡y tá»± Ä‘á»™ng má»—i giá»

jobs:
  toggle-status:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ“¥ Clone repo
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: ðŸ”„ Äá»c vÃ  Ä‘á»•i tráº¡ng thÃ¡i
        run: |
          FILE=status.txt
          if [[ ! -f "$FILE" ]]; then echo "true" > "$FILE"; fi
          OLD_VALUE=$(cat "$FILE")
          NEW_VALUE="false"
          if [[ "$OLD_VALUE" == "false" ]]; then NEW_VALUE="true"; fi
          echo "$NEW_VALUE" > "$FILE"
          echo "âœ… Tráº¡ng thÃ¡i má»›i: $NEW_VALUE"

      - name: ðŸš€ Commit vÃ  Push thay Ä‘á»•i
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "github-actions@github.com"
          git add status.txt
          git commit -m "ðŸ”„ Toggled status to $(cat status.txt)"
          git push
